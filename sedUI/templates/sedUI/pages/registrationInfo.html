<script>
	jQuery(document).ready(function(){
		$("#id_1-email_confirm").focusout(function () {
			var email_confirm = document.getElementById("id_1-email_confirm");
			var email = document.getElementById("id_1-email");
			var goodColor = "#66cc66";
    	var badColor = "#ff6666";
			var orgColor = "#ffffff";
    	var message = document.getElementById('confirmMessage');

			if (email.value != email_confirm.value) {
				email_confirm.style.backgroundColor = badColor;
        message.style.color = badColor;
        message.innerHTML = "Oops, Emails Do Not Match!"
				email_confirm.setCustomValidity('Emails Must be Matching.');
			}
			else {
					email_confirm.style.backgroundColor = goodColor;
	        message.style.color = goodColor;
	        message.innerHTML = "Emails Match!"
					email_confirm.setCustomValidity('');
					setTimeout(function(){ email_confirm.style.backgroundColor = orgColor; }, 2000);
			}
		});
	});
</script>

{% block content %}
<form action="/registration/" method="post" style="width: 500px; margin: 0 auto"> {% csrf_token %}
	{{ wizard.management_form }}
	<div>
		<div class="form-group">
			<label for="InputFirstName">Scout Information</label>
			<div class="input-group">
				{{wizard.form.first_name}}
				<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
			</div>
		</div>
		<div class="form-group">
			<div class="input-group">
				{{wizard.form.last_name}}
				<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
			</div>
		</div>
		<div class="form-group">
			<div class="input-group">
				{{wizard.form.affiliation}}
				<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
			</div>
		</div>
		<div class="form-group">
			<div class="input-group">
				{{wizard.form.unit_number}}
				<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
			</div>
		</div>
		<div class="form-group">
			<div class="col-lg-16">
				{{wizard.form.phone}}
			</div>
		</div>

		<div class="form-group">
			<label for="InputEmail">Enter Email</label>
			<div class="input-group">
				{{wizard.form.email}}
				<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
			</div>
		</div>
		<div class="form-group">
			<div class="input-group">
				{{wizard.form.email_confirm}}
				<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
			</div>
			<span id="confirmMessage" class="confirmMessage"></span>
		</div>

		<div class="form-group">
			<label for="EmergencyContact">Emergency Contact Information</label>
			<div class="input-group">
				{{wizard.form.emergency_first_name}}
				<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
			</div>
		</div>
		<div class="form-group">
			<div class="input-group">
				{{wizard.form.emergency_last_name}}
				<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
			</div>
		</div>
		<div class="form-group">
			<div class="input-group">
				{{wizard.form.emergency_phone}}
				<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
			</div>
		</div>

		<div class="form-group">
			<div class="input-group">
				{{wizard.form.emergency_email}}
				<span class="input-group-addon"><span class="glyphicon glyphicon-asterisk"></span></span>
			</div>
		</div>
		<div class="form-group">
			<label for="Medical">Medical Information</label>
			<div class="input-group">
				{{wizard.form.medical_issues}} Medical Issues or Special Needs
			</div>
		</div>
		{% if wizard.form.medical_issues %}
			<div class="form-group">
				<div class="col-lg-16">
				{{wizard.form.medical_notes}}
				</div>
			</div>
		{% endif %}

		<div class="form-group">
			<label for="Allergy">Allergy Information</label>
			<div class="input-group">
				{{wizard.form.allergy_issues}} Notable Allergies
			</div>
		</div>
		{% if wizard.form.allergy_issues %}
			<div class="form-group">
				<div class="col-lg-16">
				{{wizard.form.allergy_notes}}
				</div>
			</div>
		{% endif %}

		<div class="form-group">
			<div class="input-group">
				{{wizard.form.photo}} I approve the use of photos taken at the event.
			</div>
		</div>
	</div>
	<br>
	<div align="center">
		<!-- <script src='https://www.google.com/recaptcha/api.js'></script>
		<div class="form-group">
			<div class="input-group">
				TODO: This data-sitekey has to be updated for release
				<div class="g-recaptcha" data-sitekey="6LccEhEUAAAAAExx5BF3N1Kz9ZzM9deDRg3A5Bsk"></div>
			</div>
		</div> -->
		{{wizard.form.captcha}}
		<input type="submit" name="submit" id="submit" value="Next" class="btn btn-primary">
	</div>

</form>
{% endblock %}
