<!DOCTYPE html>
<html>
	<head>
		
		<title id=title></title>
		
		<script>
			var courseName = location.search.split('course=')[1];
			document.getElementById("title").innerHTML += courseName;
		</script>
		
		<link rel="stylesheet" type="text/css" href="styles/style.css">
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet"
			href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
			integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7"
			crossorigin="anonymous">
		
		<!-- Optional theme -->
		<link rel="stylesheet"
			href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css"
			integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r"
			crossorigin="anonymous">
	</head>
	<body>
		<!--Begin Navbar-->
		<script src="//code.jquery.com/jquery.min.js"></script>
		<ol id="new-projects"></ol>
		<script src="scripts/copyNavBar.js"></script>
		<!--End Navbar-->

		<p id="coursePage"></p>
		<script src="scripts/Course.js"></script>
		<script>
			var encodedCourseName = location.search.split('course=')[1];
			var allCourses = [];
			var course;
			getAllCourses(function(allCourses) {
				for (index in allCourses) { 
					var tempCourse = allCourses[index];
					console.log(tempCourse.getCourseName().replace(/[^a-zA-Z0-9-_]/g, '') + " ?= " + encodedCourseName)
					if (tempCourse.getCourseName().replace(/[^a-zA-Z0-9-_]/g, '') == encodedCourseName) {
						course = tempCourse;
						break;
					}
				}

				console.log(course.getCourseName());
				if (course != null) {
					document.getElementById("coursePage").innerHTML += 
						'<div class="container"> ' +
							'<div class="well well-sm">' + 
								'<p class="courseName"><b>' + course.getCourseName() + '</b></p>' + 
								'<p>' + course.getCourseDescription() + '</p>' + 
								'<br>' +
								'<p>' + 
									'<a class="btn btn-primary btn-sm" href="#" role="button">Register</a>' + 
									'<a class="btn btn-danger btn-sm" href="#" role="button" style="float: right;">Delete</a>' + 					//TODO: Only viewable to admins
									'<a class="btn btn-warning btn-sm" href="#" role="button" style="float: right; margin-right: 10px;">Edit</a>' +	//TODO: Only viewable to admins
								'</p>' + 
							'</div>' + 
						'</div>';
				}
			});
		</script>
	</body>
</html>



